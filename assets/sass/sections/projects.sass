.projects__page
    .hero
        .year
            @extend .sr-only
        .dropdown-share
            position: relative
    &:not(.full-width)
        .project-sidebar 
            .taxonomies-single li.terms
                .taxonomy-children
                    display: inline-flex
                    flex-wrap: wrap
                    justify-content: flex-end
                    flex: 1
                    gap: space(3) space(2)
                    li
                        margin-left: 0
                        + li
                            margin-top: 0

// colorfull chips for categories
article.project .project-categories,
.project-sidebar .taxonomies-single
    li
        a
            background: $color-border
            padding: space() space(2)
            text-decoration: none !important

.block-projects--list,
.projects__section .projects--list,
.projects_categories__term .projects--list
    .project
        padding-bottom: 0
        margin-bottom: $spacing-5
        border: none
        @include media-breakpoint-up(desktop)
            flex-direction: row
            gap: var(--column-width)
        .project-content
            .project-title
                @include h4
            .project-description
                max-width: 100%
            @include media-breakpoint-up(desktop)
                max-width: columns(8)
        .project-categories
            .ancestor-taxonomy-rubrics
                order: -1
        .media 
            img
                aspect-ratio: 1
            @include media-breakpoint-up(desktop)
                width: calc(#{columns(3)} - var(--column-width))

// colors
.projects--list
    .project-categories a[href="//localhost:1313/fr/fiches/rubriques/decouvrir-les-bases/"],
    .project-categories a[href="//localhost:1313/fr/fiches/rubriques/maitriser-les-techniques/"],
    .project-categories a[href="//localhost:1313/fr/fiches/rubriques/comprendre-le-contexte/"],
    .project-categories a[href="//localhost:1313/fr/fiches/rubriques/piloter-la-strategie/"],
    .media
        .page-category-context &
            background: $site-blue
        .page-category-basics &
            background: $site-purple
        .page-category-techniques &
            background: $site-pink
        .page-category-strategy &
            background: $site-orange

// block colors
.block-class-background-blue
    background: $site-blue
.block-class-background-purple
    background: $site-purple
.block-class-background-pink
    background: $site-pink
.block-class-background-orange
    background: $site-orange

// sections category
.page-taxonomy-sections
    .blocks
        .top
            a
                @include icon(arrow-right-line, after)
                @include hover-translate-icon(after)
        .block.block-projects
            margin-bottom: 0
            padding-bottom: $spacing-5
            padding-top: $spacing-5
            @include media-breakpoint-up(desktop)
                padding-bottom: space(32)
                padding-top: space(32)
            .project:last-child
                .project-title
                    border: none
                    padding-bottom: 0
            + .block-projects
                margin-top: 0
        // TODO : utiliser les nouveaux partials pour supprimer cet appel ?
        + .container
            display: none
    .block-class-cta-contribute
        margin-top: 0

// item colors
.block-projects--list,
.projects__section .projects--list,
.projects_categories__term .projects--list,
.project-sidebar .taxonomies-single
    .comprendre-le-contexte a
        background-color: $site-blue
    .decouvrir-les-bases a
        background-color: $site-purple
    .maitriser-les-techniques a
        background-color: $site-pink
    .piloter-la-strategie a
        background-color: $site-orange

.siblings-rubrics
    .block-class-main-rubrics
        margin-bottom: 0 !important
        .top
            .description
                display: none
        article
            [class$="-title"]
                @include h4
            [class$="-content"]
                @include small
    + .block-class-cta-contribute
        margin-top: 0 !important

.projects_categories__term
    main
        padding-bottom: 0
    .siblings-rubrics
        .block-categories--projects
            ul.categories
                @include grid(3, md, 0, 0)