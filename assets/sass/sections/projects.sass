.projects__page,
.posts__page
    .hero
        .year
            @extend .sr-only
        .dropdown-share
            position: relative
    &:not(.full-width)
        .project-sidebar,
        .post-sidebar
            .taxonomies-single li.terms
                .taxonomy-children
                    display: inline-flex
                    flex-wrap: wrap
                    justify-content: flex-end
                    flex: 1
                    gap: space(3) space(2)
                    li
                        margin-left: 0
                        + li
                            margin-top: 0

.projects__page
    .document-content
        min-height: 30vh

.projects__section
    .hero
        .hero-text
        .btn
            align-items: center
            display: flex
            gap: space(2)
            width: fit-content
            &::before
                @include icon-site("icon-tag")

// colorfull chips for categories
article.project .project-categories,
article.post .post-categories,
.section-sidebar .taxonomies-single
    li
        a
            background: $color-border
            padding: space() space(2)
            text-decoration: none !important

.block-projects--list,
.projects--list,
.projects__section .projects--list,
.projects_categories__term .projects--list
    > li
        .project
            .project-content
                flex: 1
                .project-description
                    max-width: 100%
                @include media-breakpoint-up(desktop)
                    padding-right: 0 !important
            .project-categories
                display: flex
                .ancestor-taxonomy-rubrics
                    order: -1
                row-gap: space(3)
            .media 
                order: -1
                img
                    aspect-ratio: 1
            @include media-breakpoint-up(desktop)
                flex-direction: row
                gap: var(--column-width)
            @include in-page-without-sidebar
                .media
                    width: calc(#{columns(3)} - var(--column-width))
                .project-title
                    @include h4
                .project-content
                    margin-right: offset(2)
                    max-width: columns(8)
.projects--list
    @include media-breakpoint-down(desktop)
        > li
            &:not(:first-child)
                padding-top: space(10)
            &:not(:last-child)
                padding-bottom: space(10)
        article
            .media 
                width: 100%
                picture
                    aspect-ratio: 16/9
                img
                    height: 100%
                    object-fit: cover

// colors
.projects--list
    // TODO : add bodyclasses to put colors on project media
    .project
        &.category-context .media img
            background: $site-blue
        &.category-basics .media img
            background: $site-purple
        &.category-technics .media img
            background: $site-pink
        &.category-strategy .media img
            background: $site-orange

// block colors
.block-class-background-blue
    background: $site-blue
.block-class-background-purple
    background: $site-purple
.block-class-background-pink
    background: $site-pink
.block-class-background-orange
    background: $site-orange

// page taxonomie "rubriques" avec les 4 blocs color√©s
.page-taxonomy-rubrics
    .blocks
        .top
            a
                @include icon(arrow-right-line, after)
                @include hover-translate-icon(after)
        .block.block-projects
            margin-bottom: 0
            padding-top: $spacing-5
            padding-bottom: $spacing-5
            @include media-breakpoint-up(desktop)
                padding-top: $spacing-6
            .project:last-child
                .project-title
                    border: none
                    padding-bottom: 0
            + .block-projects
                margin-top: 0
            .ancestor-taxonomy-rubrics
                display: none
        + .container
            display: none
    .block-class-cta-contribute
        margin-top: 0

// item colors
.project
    .page-context a
        background-color: $site-blue !important
    .page-basics a
        background-color: $site-purple !important
    .page-technics a
        background-color: $site-pink !important
    .page-strategy a
        background-color: $site-orange !important
.project-sidebar
    .terms:first-child a
        .category-context &
            background: $site-blue
        .category-basics &
            background: $site-purple
        .category-technics &
            background: $site-pink
        .category-strategy &
            background: $site-orange

.siblings-rubrics
    .block-class-main-rubrics
        margin-bottom: 0 !important
        .top
            .description
                display: none
        article
            [class$="-title"]
                @include h4
            [class$="-content"]
                @include small
    + .block-class-cta-contribute
        margin-top: 0 !important

.projects_categories__term
    main
        padding-bottom: 0
    .siblings-rubrics
        .block-categories--projects
            ul.categories
                @include grid(3, md, 0, 0)